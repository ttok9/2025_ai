ì•„ë˜ëŠ” fastmcpë¥¼ ì‚¬ìš©í•´ MCP ì„œë²„ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œì•¼. ë¨¼ì €, fastmcpê°€ Model Context Protocol (MCP)ì„ ìœ„í•œ Python í”„ë ˆì„ì›Œí¬ë¼ëŠ” ê±¸ í™•ì¸í–ˆì–´. MCPëŠ” AI ëª¨ë¸(ì˜ˆ: LLM)ì´ ì™¸ë¶€ ë„êµ¬ë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í”„ë¡œí† ì½œì´ì•¼. trace32 (Lauterbach TRACE32 ë””ë²„ê±°)ë¥¼ ì œì–´í•˜ëŠ” MCP ì„œë²„ë¥¼ ë§Œë“¤ë ¤ë©´, ê¸°ì¡´ trace32 Python ë¼ì´ë¸ŒëŸ¬ë¦¬ (lauterbach-trace32-rcl)ë¥¼ fastmcpì˜ 'tool'ë¡œ í†µí•©í•˜ë©´ ë¼. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” TRACE32ì˜ Remote APIë¥¼ í†µí•´ ëª…ë ¹ ì‹¤í–‰, ë©”ëª¨ë¦¬ ì½ê¸° ë“±ì„ ì§€ì›í•´.

ì´ ê°€ì´ë“œëŠ” ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í• ê²Œ. TRACE32ê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆê³ , Remote APIê°€ í™œì„±í™”ëœ ìƒíƒœë¼ê³  ê°€ì •í•´. (ë§Œì•½ ì•„ë‹ˆë©´, Lauterbach ê³µì‹ ë¬¸ì„œì—ì„œ TRACE32 ì„¤ì¹˜ì™€ config.t32 íŒŒì¼ ì„¤ì •ì„ í™•ì¸í•´.)

1. í™˜ê²½ ì„¤ì • ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
Python 3.8+ í™˜ê²½ì´ í•„ìš”í•´. (ì¶”ì²œ: virtualenv ì‚¬ìš©)
fastmcpì™€ trace32 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜:
text

ì ‘ê¸°

ìë™ ì¤„ë°”ê¿ˆ

ë³µì‚¬
pip install fastmcp lauterbach-trace32-rcl
fastmcp: MCP ì„œë²„ ë¹Œë“œ í”„ë ˆì„ì›Œí¬.gofastmcp.compypi.org
lauterbach-trace32-rcl (pyrcl): TRACE32ë¥¼ Pythonìœ¼ë¡œ ì œì–´í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬.pypi.orgwww2.lauterbach.com
TRACE32 Remote API ì„¤ì •:
TRACE32 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³ , config.t32 íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•´ Remote APIë¥¼ í™œì„±í™”í•´ (TCP ëª¨ë“œ ì¶”ì²œ):
text



RCL=NETTCP
PORT=20000
TRACE32ë¥¼ ì‹œì‘: ì˜ˆë¥¼ ë“¤ì–´, t32marm.exe -c config.t32 (í”Œë«í¼ì— ë§ê²Œ ì¡°ì •).
Pythonì—ì„œ ì—°ê²°í•  í˜¸ìŠ¤íŠ¸/í¬íŠ¸ëŠ” 'localhost:20000'ìœ¼ë¡œ ê°€ì •í• ê²Œ. í•„ìš” ì‹œ ë³€ê²½.
2. MCP ì„œë²„ ì½”ë“œ ì‘ì„±
fastmcpë¡œ ì„œë²„ë¥¼ ë§Œë“¤ë©´, trace32ë¥¼ ì œì–´í•˜ëŠ” í•¨ìˆ˜ë¥¼ @mcp.tool ë°ì½”ë ˆì´í„°ë¡œ ë“±ë¡í•  ìˆ˜ ìˆì–´. ì´ toolì€ AI í´ë¼ì´ì–¸íŠ¸ê°€ í˜¸ì¶œí•˜ë©´ trace32 ëª…ë ¹ì„ ì‹¤í–‰í•´ ê²°ê³¼ë¥¼ ë°˜í™˜í•´.

ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì‹œ ì½”ë“œì•¼ (server.py íŒŒì¼ë¡œ ì €ì¥). ì´ ì„œë²„ëŠ” trace32ì— ì—°ê²°í•´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” toolì„ í•˜ë‚˜ ì œê³µí•´. (ì˜ˆ: ë³€ìˆ˜ ê°’ ì½ê¸°ë‚˜ PRACTICE ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰.)

python

ì ‘ê¸°

ìë™ ì¤„ë°”ê¿ˆ

ì‹¤í–‰

ë³µì‚¬
from fastmcp import FastMCP
from lauterbach.trace32.rcl import RemoteControl  # trace32 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸

# TRACE32 ì—°ê²° ì„¤ì • (RemoteControl ì¸ìŠ¤í„´ìŠ¤ ìƒì„±)
t32 = RemoteControl(host='localhost', port=20000, packlen=1024)  # í˜¸ìŠ¤íŠ¸/í¬íŠ¸ ë§ê²Œ ì¡°ì •
t32.connect()  # ì—°ê²°

mcp = FastMCP("Trace32 Control Server ğŸš€")  # MCP ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

@mcp.tool
def execute_trace32_command(command: str) -> str:
    """
    Execute a TRACE32 PRACTICE command and return the result.
    :param command: The TRACE32 command to run (e.g., 'Data.List' or 'Var.Set myVar=10')
    :return: Command execution result or error message.
    """
    try:
        # TRACE32 ëª…ë ¹ ì‹¤í–‰ (PDF ì˜ˆì‹œ ê¸°ë°˜)
        t32.api.T32_Cmd(command.encode('utf-8'))  # ëª…ë ¹ ì „ì†¡
        state = 1
        while state != 0:  # PRACTICE ìŠ¤í¬ë¦½íŠ¸ ì™„ë£Œ ëŒ€ê¸°
            state = t32.api.T32_GetPracticeState()
        
        # ê²°ê³¼ ë©”ì‹œì§€ ì½ê¸°
        error_code = bytearray(4)
        message = bytearray(256)
        t32.api.T32_GetMessage(message, error_code)
        result = message.decode('utf-8').strip()
        
        if error_code[0] != 0:
            return f"Error: {result}"
        return result
    except Exception as e:
        return f"Execution failed: {str(e)}"

if __name__ == "__main__":
    mcp.run(transport="http", host="127.0.0.1", port=8000, path="/mcp")  # HTTPë¡œ ì„œë²„ ì‹¤í–‰ (ë¡œì»¬: http://localhost:8000/mcp)
ì„¤ëª…:
FastMCP("Trace32 Control Server ğŸš€"): ì„œë²„ ì´ë¦„ ì„¤ì •.
@mcp.tool: trace32 ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë¥¼ toolë¡œ ë“±ë¡. í•¨ìˆ˜ì˜ docstringê³¼ íƒ€ì… íŒíŠ¸ê°€ ìë™ìœ¼ë¡œ MCP ìŠ¤í‚¤ë§ˆë¡œ ë³€í™˜ë¼.gofastmcp.comgithub.com
execute_trace32_command: trace32 APIë¥¼ ì‚¬ìš©í•´ ëª…ë ¹ ì‹¤í–‰. (PDFì—ì„œ ì¶”ì¶œí•œ ì˜ˆì‹œ: T32_Cmd, T32_GetPracticeState, T32_GetMessage ì‚¬ìš©).www2.lauterbach.comrepo.lauterbach.com
ë” ë§ì€ tool ì¶”ê°€ ê°€ëŠ¥: ì˜ˆë¥¼ ë“¤ì–´, ë©”ëª¨ë¦¬ ì½ê¸° (T32_ReadMemory), ë³€ìˆ˜ ëª¨ë‹ˆí„°ë§ (T32_ReadVariableValue) ë“±.
3. ì„œë²„ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸
ì„œë²„ ì‹¤í–‰:
text

ì ‘ê¸°

ìë™ ì¤„ë°”ê¿ˆ

ë³µì‚¬
python server.py
ê¸°ë³¸: STDIO ëª¨ë“œ (ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©).
HTTP ëª¨ë“œ (ìœ„ ì½”ë“œì²˜ëŸ¼): http://localhost:8000/mcpì—ì„œ ì ‘ê·¼ ê°€ëŠ¥. (ì›¹ ë°°í¬ ì¶”ì²œ)youtube.com
í…ŒìŠ¤íŠ¸:
fastmcp í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš© (pip install fastmcp ì´ë¯¸ í–ˆìœ¼ë‹ˆê¹Œ):
python




from fastmcp import Client
import asyncio

async def test():
    async with Client("http://localhost:8000/mcp") as client:  # ì„œë²„ URL
        tools = await client.list_tools()  # ì‚¬ìš© ê°€ëŠ¥í•œ tool ëª©ë¡
        print(tools)
        
        result = await client.call_tool("execute_trace32_command", {"command": "Data.List"})  # tool í˜¸ì¶œ
        print(result.text)

asyncio.run(test())
ê²°ê³¼: trace32 ëª…ë ¹ì´ ì‹¤í–‰ë˜ê³ , MCPë¥¼ í†µí•´ ê²°ê³¼ ë°˜í™˜.
4. í™•ì¥ íŒ
ë” ë§ì€ trace32 ê¸°ëŠ¥ ì¶”ê°€: PDF ë¬¸ì„œì— ë”°ë¼ ë©”ëª¨ë¦¬ ì ‘ê·¼ (T32_ReadMemory), ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì„¤ì • (T32_WriteBreakpoint) ë“±ì„ toolë¡œ ë§Œë“¤ì–´.www2.lauterbach.com
ë³´ì•ˆ/ì¸ì¦: fastmcpëŠ” ê¸°ë³¸ ì¸ì¦ ì§€ì›. ë¬¸ì„œì—ì„œ mcp.run(auth=...) ì¶”ê°€.
ë°°í¬: Dockerë‚˜ cloudì— HTTP ì„œë²„ë¡œ ë°°í¬. fastmcp ë¬¸ì„œì—ì„œ proxyingì´ë‚˜ production íŒ¨í„´ í™•ì¸.gofastmcp.com
ë¬¸ì œ ë°œìƒ ì‹œ: TRACE32 ì—°ê²° ì˜¤ë¥˜ëŠ” config.t32 í™•ì¸. fastmcp ë¡œê·¸ë¡œ ë””ë²„ê¹….
ì´ê²Œ ê¸°ë³¸ì ì¸ ë°©ë²•ì´ì•¼. ë” êµ¬ì²´ì ì¸ trace32 ëª…ë ¹ì´ë‚˜ ì¶”ê°€ toolì´ í•„ìš”í•˜ë©´, ì„¸ë¶€ ìš”êµ¬ì‚¬í•­ ì•Œë ¤ì¤˜!
